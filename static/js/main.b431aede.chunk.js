(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{204:function(e,t,n){"use strict";var a=n(79),r=(n(546),n(322));t.a=function(e,t){var n=null,o=new Promise((function(o){n=r.a[e](Object(a.a)(Object(a.a)({},t),{},{onOk:function(){return o(!0)},onCancel:function(){return o(!1)}}))})).finally((function(){n=null,delete o.modal}));return o.modal=n,o.clear=function(){if(n)try{n.destory()}catch(e){}n=null,delete o.modal},o}},305:function(e,t,n){"use strict";(function(e){t.a=function(t){return new Promise((function(n){e.setTimeout(n,t)}))}}).call(this,n(42))},306:function(e,t,n){"use strict";(function(e){var a=n(64),r=n.n(a);t.a=function(t){var n=e.location,a=n.origin,o=n.pathname,c=n.hash,i=r.a.stringify(t),l=i?"?".concat(i):"";e.history.replaceState({},"","".concat(a).concat(o).concat(l).concat(c))}}).call(this,n(42))},307:function(e,t,n){e.exports={loading:"loading--2ums7"}},309:function(e,t,n){e.exports={dashboard:"dashboard--B4QH2"}},320:function(e,t,n){e.exports={center:"center--If3b1"}},327:function(e,t,n){e.exports=n(647)},520:function(e,t,n){},522:function(e,t){},533:function(e,t,n){"use strict";n.r(t),function(e){var a=n(65),r=n.n(a),o=n(79),c=n(208),i=n(36),l=n(64),s=n.n(l),u=n(204),p=n(305),f=n(306),d=function(){var t=s.a.parse(e.location.search),n=t.name,a=t.title,r=Object(c.a)(t,["name","title"]);if(Object(f.a)(r),n&&a)return localStorage.setItem("username",n),localStorage.setItem("usertitle",a),{username:n,usertitle:a};var o={username:localStorage.getItem("username"),usertitle:localStorage.getItem("usertitle")};return o.username&&o.usertitle?o:(localStorage.removeItem("username"),localStorage.removeItem("usertitle"),null)},m=function(){var t=s.a.stringify({from:e.location.href});if("localhost"===e.location.hostname&&e.location.port)e.location.replace("".concat(e.location.protocol,"//").concat(e.location.hostname,":").concat(parseInt(e.location.port,10)+1,"?").concat(t));else{var n=e.location.pathname.replace(/(\/[^/]*)?$/,"/login/");e.location.replace("".concat(e.location.origin).concat(n,"?").concat(t))}};t.default={namespace:"app",state:{userInfo:null},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;return t({type:"jump2loading",payload:n.location}),n.listen((function(e){var n=e.pathname,a=e.search;"/"===n&&t({type:"load",payload:a})}))}},effects:{jump2loading:r.a.mark((function e(t,n){var a,c,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,c=n.put,"/"!==a.pathname){e.next=4;break}return e.abrupt("return");case 4:return l=s.a.parse(a.search),u=s.a.stringify(Object(o.a)(Object(o.a)({},l),{},{pathname:a.pathname})),e.next=8,c(i.routerRedux.replace({pathname:"/",search:u}));case 8:case"end":return e.stop()}}),e)})),load:r.a.mark((function e(t,n){var a,o,l,u,f,m,h,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,l=n.call,e.next=4,l(p.a,3e3);case 4:if(u=d()){e.next=9;break}return e.next=8,o({type:"loginFaild"});case 8:return e.abrupt("return");case 9:return e.next=11,o({type:"save",payload:{userInfo:u}});case 11:return f=s.a.parse(a),m=f.pathname,h=Object(c.a)(f,["pathname"]),v=s.a.stringify(h),e.next=15,o(i.routerRedux.replace({pathname:m,search:v}));case 15:if(!m){e.next=20;break}return e.next=18,o(i.routerRedux.replace({pathname:m,search:v}));case 18:e.next=22;break;case 20:return e.next=22,o(i.routerRedux.replace("/dashboard"));case 22:case"end":return e.stop()}}),e)})),loginFaild:r.a.mark((function e(t,n){var a,o,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,i=a&&a.content||"\u7528\u6237\u672a\u767b\u5f55\uff0c\u8bf7\u767b\u5f55",e.next=5,o(u.a,"info",{title:"\u63d0\u793a",content:i,okText:"\u53bb\u767b\u5f55"});case 5:if(!e.sent){e.next=10;break}return e.next=9,c({type:"save",payload:{userInfo:null}});case 9:m();case 10:case"end":return e.stop()}}),e)})),logout:r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,o=n.call,e.next=4,o(u.a,"confirm",{title:"\u6ce8\u9500",content:"\u786e\u8ba4\u8981\u9000\u51fa\u767b\u5f55\u5417\uff1f"});case 4:if(!e.sent){e.next=10;break}return localStorage.removeItem("usertitle"),e.next=9,a({type:"save",payload:{userInfo:null}});case 9:m();case 10:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){return Object(o.a)(Object(o.a)({},e),t.payload)}}}}.call(this,n(42))},646:function(e,t,n){"use strict";n.r(t);n(610);var a=n(22),r=n(0),o=n.n(r),c=n(36),i=n(324),l=(n(612),n(308)),s=n(307),u=n.n(s),p=function(){return o.a.createElement("div",{className:u.a.loading},o.a.createElement(l.a,{type:"loading"}))},f=(n(645),n(323)),d=(n(617),n(325)),m=(n(277),n(87)),h=n(45),v=n(309),g=n.n(v),b=o.a.memo((function(){var e=Object(h.d)(),t=Object(h.e)((function(e){return{userInfo:e.app.userInfo}})).userInfo,n=o.a.useCallback((function(){e({type:"app/logout"})}),[e]);return o.a.createElement(f.a,{className:g.a.dashboard},o.a.createElement(d.a,{status:"success",title:"\u767b\u5f55\u6210\u529f",subTitle:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,"\u7528\u6237\u540d: ",t.username),o.a.createElement("div",null,"\u6635\u79f0: ",t.usertitle)),extra:o.a.createElement(m.a,{onClick:n},"\u6ce8\u9500")}))})),w=n(320),y=n.n(w),x=function(){return o.a.createElement("div",{className:y.a.center},o.a.createElement(c.Switch,null,o.a.createElement(c.Route,{path:"/",exact:!0,component:p}),o.a.createElement(c.Route,{path:"/dashboard",component:b}),o.a.createElement(c.Redirect,{from:"(.*)",to:"/"})))};t.default=function(e){var t=e.history,n=e.app;return o.a.createElement(a.a,{locale:i.a},o.a.createElement(c.Router,{history:t},o.a.createElement(c.Switch,null,o.a.createElement(c.Route,{path:"(.*)",render:function(e){return o.a.createElement(x,Object.assign({},e,{app:n}))}}))))}},647:function(e,t,n){"use strict";n.r(t);n(328),n(336);var a=n(200),r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(520);var c=Object(a.a)({});c.model(n(533).default),c.router(n(646).default),c.start("#root"),function(e){if("serviceWorker"in navigator){if(new URL("/cra-lerna-template",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cra-lerna-template","/service-worker.js");r?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(t,e)}))}}();t.default=c._store}},[[327,1,2]]]);