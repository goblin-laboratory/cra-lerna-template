(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,a){"use strict";var n=a(123),r=(a(665),a(335));t.a=function(e,t){var a=null,o=new Promise(function(o){a=r.a[e](Object(n.a)({},t,{onOk:function(){return o(!0)},onCancel:function(){return o(!1)}}))}).finally(function(){a=null,delete o.modal});return o.modal=a,o.clear=function(){if(a)try{a.destory()}catch(e){}a=null,delete o.modal},o}},323:function(e,t,a){"use strict";(function(e){t.a=function(t){return new Promise(function(a){e.setTimeout(a,t)})}}).call(this,a(37))},324:function(e,t,a){"use strict";(function(e){var n=a(58),r=a.n(n);t.a=function(t){var a=e.location,n=a.origin,o=a.pathname,c=a.hash,l=r.a.stringify(t),u=l?"?".concat(l):"";e.history.replaceState({},"","".concat(n).concat(o).concat(u).concat(c))}}).call(this,a(37))},325:function(e,t,a){e.exports={loading:"loading--2ums7"}},327:function(e,t,a){e.exports={dashboard:"dashboard--B4QH2"}},332:function(e,t,a){e.exports={center:"center--If3b1"}},340:function(e,t,a){e.exports=a(729)},589:function(e,t){},650:function(e,t,a){},652:function(e,t,a){"use strict";a.r(t),function(e){var n=a(59),r=a.n(n),o=a(123),c=a(208),l=a(35),u=a(58),i=a.n(u),s=a(206),p=a(323),f=a(324),m=function(){var t=i.a.parse(e.location.search),a=t.name,n=t.title,r=Object(c.a)(t,["name","title"]);if(Object(f.a)(r),a&&n)return localStorage.setItem("username",a),localStorage.setItem("usertitle",n),{username:a,usertitle:n};var o={username:localStorage.getItem("username"),usertitle:localStorage.getItem("usertitle")};return o.username&&o.usertitle?o:(localStorage.removeItem("username"),localStorage.removeItem("usertitle"),null)},d=function(){var t=i.a.stringify({from:e.location.href});if("localhost"===e.location.hostname&&e.location.port)e.location.replace("".concat(e.location.protocol,"//").concat(e.location.hostname,":").concat(parseInt(e.location.port,10)+1,"?").concat(t));else{var a=e.location.pathname.replace(/(\/[^\/]*)?$/,"/login/");e.location.replace("".concat(e.location.origin).concat(a,"?").concat(t))}};t.default={namespace:"app",state:{userInfo:null},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;return t({type:"jump2loading",payload:a.location}),a.listen(function(e){var a=e.pathname,n=e.search;"/"===a&&t({type:"load",payload:n})})}},effects:{jump2loading:r.a.mark(function e(t,a){var n,c,u,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,c=a.put,"/"!==n.pathname){e.next=4;break}return e.abrupt("return");case 4:return u=i.a.parse(n.search),s=i.a.stringify(Object(o.a)({},u,{pathname:n.pathname})),e.next=8,c(l.routerRedux.replace({pathname:"/",search:s}));case 8:case"end":return e.stop()}},e)}),load:r.a.mark(function e(t,a){var n,o,u,s,f,d,h,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,o=a.put,u=a.call,e.next=4,u(p.a,3e3);case 4:if(s=m()){e.next=9;break}return e.next=8,o({type:"loginFaild"});case 8:return e.abrupt("return");case 9:return e.next=11,o({type:"save",payload:{userInfo:s}});case 11:return f=i.a.parse(n),d=f.pathname,h=Object(c.a)(f,["pathname"]),v=i.a.stringify(h),e.next=15,o(l.routerRedux.replace({pathname:d,search:v}));case 15:if(!d){e.next=20;break}return e.next=18,o(l.routerRedux.replace({pathname:d,search:v}));case 18:e.next=22;break;case 20:return e.next=22,o(l.routerRedux.replace("/dashboard"));case 22:case"end":return e.stop()}},e)}),loginFaild:r.a.mark(function e(t,a){var n,o,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,o=a.call,c=a.put,l=n&&n.content||"\u7528\u6237\u672a\u767b\u5f55\uff0c\u8bf7\u767b\u5f55",e.next=5,o(s.a,"info",{title:"\u63d0\u793a",content:l,okText:"\u53bb\u767b\u5f55"});case 5:if(!e.sent){e.next=10;break}return e.next=9,c({type:"save",payload:{userInfo:null}});case 9:d();case 10:case"end":return e.stop()}},e)}),logout:r.a.mark(function e(t,a){var n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=a.put,o=a.call,e.next=4,o(s.a,"confirm",{title:"\u6ce8\u9500",content:"\u786e\u8ba4\u8981\u9000\u51fa\u767b\u5f55\u5417\uff1f"});case 4:if(!e.sent){e.next=10;break}return localStorage.removeItem("usertitle"),e.next=9,n({type:"save",payload:{userInfo:null}});case 9:d();case 10:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){return Object(o.a)({},e,t.payload)}}}}.call(this,a(37))},728:function(e,t,a){"use strict";a.r(t);a(687);var n=a(337),r=a(0),o=a.n(r),c=a(35),l=a(333),u=a.n(l),i=(a(689),a(26)),s=a(325),p=a.n(s),f=function(){return o.a.createElement("div",{className:p.a.loading},o.a.createElement(i.a,{type:"loading"}))},m=(a(727),a(334)),d=(a(694),a(326)),h=a.n(d),v=(a(300),a(81)),g=a(148),x=a(327),y=a.n(x),b=Object(g.connect)(function(e){return{userInfo:e.app.userInfo}})(function(e){var t=e.dispatch,a=e.userInfo,n=o.a.useCallback(function(){t({type:"app/logout"})},[t]);return o.a.createElement(m.a,{className:y.a.dashboard},o.a.createElement(h.a,{type:"success",title:"\u767b\u5f55\u6210\u529f",description:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,"\u7528\u6237\u540d: ",a.username),o.a.createElement("div",null,"\u6635\u79f0: ",a.usertitle)),actions:o.a.createElement(v.a,{onClick:n},"\u6ce8\u9500")}))}),w=a(332),k=a.n(w),E=function(){return o.a.createElement("div",{className:k.a.center},o.a.createElement(c.Switch,null,o.a.createElement(c.Route,{path:"/",exact:!0,component:f}),o.a.createElement(c.Route,{path:"/dashboard",component:b}),o.a.createElement(c.Redirect,{from:"(.*)",to:"/"})))};t.default=function(e){var t=e.history,a=e.app;return o.a.createElement(n.a,{locale:u.a},o.a.createElement(c.Router,{history:t},o.a.createElement(c.Switch,null,o.a.createElement(c.Route,{path:"(.*)",render:function(e){return o.a.createElement(E,Object.assign({},e,{app:a}))}}))))}},729:function(e,t,a){"use strict";a.r(t);a(341),a(351);var n=a(148),r=a.n(n),o=a(336);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(650);var c=r()({});c.use(Object(o.a)()),c.model(a(652).default),c.router(a(728).default),c.start("#root"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});t.default=c._store}},[[340,1,2]]]);